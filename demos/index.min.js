(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var defaults = {
	$elName: '$el',
	elSep: '__',
	modSep: '--',
	namespace: null
};

if (typeof $ == 'undefined') {
	if (typeof jQuery == 'undefined') {
		throw new Error('ya-del: jQuery is not defined');
	} else $ = jQuery;
}

/**
 * @typedef {String} dName
 *
 * Element document name.
 * This name is used as an identifier for element.
 */

module.exports = {
	/**
	 * Init del module
	 * @param  {Object} options
	 * @param  {String} [options.dName]
	 * @param  {String} [options.namespace] Namespace
	 * @param  {jQuery|DOMElement} [options.$el]
	 */
	initDel: function(options) {
		this.DelOptions = $.extend({}, defaults, this.DelOptions, options);
		this.dName = this.DelOptions.dName || this._name;
		this.selector = this.selector || '.' + this.dName;
		this.namespace = this.DelOptions.namespace || this.dName;
		this.initEl();
	},

	/**
	 * Define $el
	 */
	initEl: function() {
		if (this.$el) return;
		if (this.DelOptions.$el) {
			if (this.DelOptions.$el instanceof $)
				this.$el = this.DelOptions.$el;
			else this.$el = $(this.DelOptions.$el);
		} else this.$el = $('.' + this.dName);
	},

	makeName: function(elName, modName) {
		var name = this.dName;
		if (elName) {
			if (!Array.isArray(elName)) elName = [elName];
			name += this.DelOptions.elSep + elName.join(this.DelOptions.elSep);
		}
		if (modName) name += this.DelOptions.modSep + modName;
		return name;
	},

	/**
	 * Add property $dName to el classes
	 */
	setName: function() {
		this.$el.addClass(this.dName);
	},

	makeSelector: function() {
		return '.' + this.makeName.apply(this, arguments);
	},

	/**
	 * Find child element by a dName
	 * @param {String} dName dName
	 * @return {jQuery} Finded element
	 */
	find: function() {
		return this.$el.find(this.makeSelector.apply(this, arguments));
	},

	/**
	 * Find element in other el
	 * @param {jQuery|string|DOMElement} el el to find in
	 * @param {string|array} element name
	 * @return {jQuery}
	 */
	findIn: function(el) {
		return (el instanceof $ ? el : $(el)).find(this.makeSelector.apply(this, [].slice.call(arguments, 1)));
	},

	/**
	 * Make full el name by modifier
	 * @param  {string} name       modifier name
	 * @param  {bool} toSelector   to prepend selector mark on not
	 * @return {string}            full el name/selector
	 */
	modName: function(name, toSelector) {
		var selectorMark = toSelector ? '.' : '';
		return selectorMark + this.makeName('', name);
	},

	hasMod: function(name) {
		return this.$el.hasClass(this.modName(name));
	},

	addMod: function(name) {
		return this.$el.addClass(this.modName(name));
	},

	filterByMod: function(name) {
		return this.$el.filter('.' + this.modName(name));
	},

	removeMod: function(name) {
		this.$el.removeClass(this.modName(name));
	},

	toggleMod: function(name, state) {
		var args = arguments;
		args[0] = this.modName(args[0]);
		$.fn.toggleClass.apply(this.$el, args);
	},

	eventName: function(name) {
		return name + '.' + this.namespace;
	},

	/**
	 * jquery like 'on'. Attach event to this.$el or with delegation.
	 * 
	 * @example
	 * obj.on('click', 'elName', handler)
	 * obj.on('click', handler)
	 * 
	 * @param  {[type]} name [description]
	 * @return {[type]}      [description]
	 */
	on: function(name) {
		var args = arguments;
		args[0] = this.eventName(name);
		$.fn.on.apply(this.$el, args);
	},

	/**
	 * Opposite to #on
	 */
	off: function(name) {
		this.$el.off(this.eventName(name));
	},
	trigger: function(name) {
		this.$el.trigger(this.eventName(name));
	},

	createEl: function(name, tagName) {
		return $('<' + (tagName || 'div') + ' />', {
			'class': this.makeName(name)
		});
	}
};
},{}],2:[function(require,module,exports){
'use strict';
var Del = require('ya-del');
require('./tabbable-selector');

function App () {
	this.$savedFocus = undefined;

	this.lastFocused = undefined;
}

App._name = 'yapopup';
App.defaults = {
	// If append to body
	bodyAppend: true,

	// Close button html
	close: '<button>x</button>',

	dName: 'b-popup'
};

App.KEY_CODES = {
	ESC: 27,
	TAB: 9,
	SHIFT: 65
};

App.make = function(options) {
	var inst = new this;
	inst.options = options;
	return inst;
};

App.init = function(options) {
	var inst = this.make(options);
	if (inst) inst.init();
	return inst;
};

App.prototype = $.extend({}, Del, {
	constructor: App,
	init: function() {
		this.setOptions();
		this.setEl();
		this.name = this.constructor._name;
		this.defineId();
		this.initDel({dName: this.options.dName});
		this.defineEls();
		this.defineEvents();
		this.setAria();
	},

	setOptions: function() {
		this.options = $.extend(true, {}, this.constructor.defaults, this.options);
	},

	setEl: function() {
		if (!this.options.$el || this.options.$el.length !== 1)
			throw new Error('$el options must be defined and exist in DOM');
		this.$el = this.options.$el;
	},

	defineId: function() {
		this.id = this.$el.attr('id');
		if (!this.id) throw new Error('There is no id in popup el');
	},

	defineEls: function() {
		this.$content = this.find('content');
		this.defineTrigger();
		this.defineClose();
	},

	defineTrigger: function() {
		this.$trigger = $('[data-yapopup-target=' + this.id + ']');
	},

	defineClose: function() {
		this.$close = this.find('close');
		if (!this.$close.length) {
			this.$close = $(this.options.close)
				.addClass(this.makeName('close'))
				.appendTo(this.$content);
		}
	},

	defineEvents: function() {
		var self = this;
		this.$el.on('keyup.' + this.name, function(e) {
			self.checkEsc(e);
		});
		this.$trigger.on('click.' + this.name, function(e) {
			e.preventDefault();
			self.open();
		});
		this.$close.on('click', function(e) {
			e.preventDefault();
			self.close();
		});
		this.$el.on('focusout', function(e) {
			self.onFocusOut(e);
		});
		this.$el.on('focusin', function(e) {
			self.onFocusIn(e);
		});
	},

	setAria: function() {
		this.$el.attr('role', 'dialog');
	},

	open: function() {
		this.saveFocus();
		this.show();
		this.ariaShow();
		this.focusIn();
	},

	close: function() {
		this.hide();
		this.restorefocus();
		this.ariaHide();
	},

	ariaShow: function() {
		this.$el.attr('aria-hidden', false);
	},

	ariaHide: function() {
		this.$el.attr('aria-hidden', true);
	},

	show: function() {
		this.addMod('show');
	},

	hide: function() {
		this.removeMod('show');
	},

	focusIn: function() {
		this.$el.find(':tabbable').first().focus();
	},

	saveFocus: function() {
		this.$savedFocus = $(':focus');
	},

	restorefocus: function() {
		this.$savedFocus.focus();
	},

	checkEsc: function(e) {
		if (e.keyCode == this.constructor.KEY_CODES.ESC)
			this.close();
	},

	onFocusIn: function(e) {
		this.lastFocused = e.target;
	},

	onFocusOut: function() {
		var $tabbable = this.$el.find(':tabbable');
		if (this.lastFocused) {
			var $lastTabbable = $tabbable.last();
			if ($lastTabbable[0] === this.lastFocused) {
				$tabbable.first().focus();
			} else $lastTabbable.focus();
		} else {
			$tabbable.last().focus();
		}
	}
});

module.exports = App;
},{"./tabbable-selector":4,"ya-del":1}],3:[function(require,module,exports){
var Yapopup = require('./app');

(function($) {
	if ($.Yapopup || $.fn.yapopup) {
		console.warn('Yapopup or another plugin with similar name has been already setted');
	}
	$.Yapopup = Yapopup;
	$.fn.yapopup = function(options) {
		return this.each(function(index) {
			options = $.extend({}, options);
			options.index = index;
			options.$el = $(this);
			$.Yapopup.init(options);
		});
	};
})(jQuery);

window.l = function(x) {
	console.log(x);
};
},{"./app":2}],4:[function(require,module,exports){
$.extend($.expr[ ':' ], {
	focusable: function(element){
		return focusable(element, !isNaN($.attr(element, 'tabindex')));
	},

	tabbable: function(element){
		var tabIndex = $.attr(element, 'tabindex'),
			isTabIndexNaN = isNaN(tabIndex);
		return ( isTabIndexNaN || tabIndex >= 0 ) && focusable(element, !isTabIndexNaN);
	}
});

/**
 * focussable function, taken from jQuery UI Core
 * @param element
 * @returns {*}
 */
function focusable(element){
	var map, mapName, img,
		nodeName = element.nodeName.toLowerCase(),
		isTabIndexNotNaN = !isNaN($.attr(element, 'tabindex'));
	if('area' === nodeName){
		map = element.parentNode;
		mapName = map.name;
		if(!element.href || !mapName || map.nodeName.toLowerCase() !== 'map'){
			return false;
		}
		img = $('img[usemap=#' + mapName + ']')[0];
		return !!img && visible(img);
	}
	return ( /^(input|select|textarea|button|object)$/.test(nodeName) ?
		!element.disabled :
		'a' === nodeName ?
			element.href || isTabIndexNotNaN :
			isTabIndexNotNaN) &&
		// the element and all of its ancestors must be visible
		visible(element);

	function visible(element){
		return $.expr.filters.visible(element) && !$(element).parents().addBack().filter(function(){
			return $.css(this, 'visibility') === 'hidden';
		}).length;
	}
}
},{}]},{},[3])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMveWEtZGVsL2RlbC5qcyIsInNyYy9qcy9hcHAuanMiLCJzcmMvanMvaW5kZXguanMiLCJzcmMvanMvdGFiYmFibGUtc2VsZWN0b3IuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1SkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIGRlZmF1bHRzID0ge1xyXG5cdCRlbE5hbWU6ICckZWwnLFxyXG5cdGVsU2VwOiAnX18nLFxyXG5cdG1vZFNlcDogJy0tJyxcclxuXHRuYW1lc3BhY2U6IG51bGxcclxufTtcclxuXHJcbmlmICh0eXBlb2YgJCA9PSAndW5kZWZpbmVkJykge1xyXG5cdGlmICh0eXBlb2YgalF1ZXJ5ID09ICd1bmRlZmluZWQnKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ3lhLWRlbDogalF1ZXJ5IGlzIG5vdCBkZWZpbmVkJyk7XHJcblx0fSBlbHNlICQgPSBqUXVlcnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7U3RyaW5nfSBkTmFtZVxyXG4gKlxyXG4gKiBFbGVtZW50IGRvY3VtZW50IG5hbWUuXHJcbiAqIFRoaXMgbmFtZSBpcyB1c2VkIGFzIGFuIGlkZW50aWZpZXIgZm9yIGVsZW1lbnQuXHJcbiAqL1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblx0LyoqXHJcblx0ICogSW5pdCBkZWwgbW9kdWxlXHJcblx0ICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXHJcblx0ICogQHBhcmFtICB7U3RyaW5nfSBbb3B0aW9ucy5kTmFtZV1cclxuXHQgKiBAcGFyYW0gIHtTdHJpbmd9IFtvcHRpb25zLm5hbWVzcGFjZV0gTmFtZXNwYWNlXHJcblx0ICogQHBhcmFtICB7alF1ZXJ5fERPTUVsZW1lbnR9IFtvcHRpb25zLiRlbF1cclxuXHQgKi9cclxuXHRpbml0RGVsOiBmdW5jdGlvbihvcHRpb25zKSB7XHJcblx0XHR0aGlzLkRlbE9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIHRoaXMuRGVsT3B0aW9ucywgb3B0aW9ucyk7XHJcblx0XHR0aGlzLmROYW1lID0gdGhpcy5EZWxPcHRpb25zLmROYW1lIHx8IHRoaXMuX25hbWU7XHJcblx0XHR0aGlzLnNlbGVjdG9yID0gdGhpcy5zZWxlY3RvciB8fCAnLicgKyB0aGlzLmROYW1lO1xyXG5cdFx0dGhpcy5uYW1lc3BhY2UgPSB0aGlzLkRlbE9wdGlvbnMubmFtZXNwYWNlIHx8IHRoaXMuZE5hbWU7XHJcblx0XHR0aGlzLmluaXRFbCgpO1xyXG5cdH0sXHJcblxyXG5cdC8qKlxyXG5cdCAqIERlZmluZSAkZWxcclxuXHQgKi9cclxuXHRpbml0RWw6IGZ1bmN0aW9uKCkge1xyXG5cdFx0aWYgKHRoaXMuJGVsKSByZXR1cm47XHJcblx0XHRpZiAodGhpcy5EZWxPcHRpb25zLiRlbCkge1xyXG5cdFx0XHRpZiAodGhpcy5EZWxPcHRpb25zLiRlbCBpbnN0YW5jZW9mICQpXHJcblx0XHRcdFx0dGhpcy4kZWwgPSB0aGlzLkRlbE9wdGlvbnMuJGVsO1xyXG5cdFx0XHRlbHNlIHRoaXMuJGVsID0gJCh0aGlzLkRlbE9wdGlvbnMuJGVsKTtcclxuXHRcdH0gZWxzZSB0aGlzLiRlbCA9ICQoJy4nICsgdGhpcy5kTmFtZSk7XHJcblx0fSxcclxuXHJcblx0bWFrZU5hbWU6IGZ1bmN0aW9uKGVsTmFtZSwgbW9kTmFtZSkge1xyXG5cdFx0dmFyIG5hbWUgPSB0aGlzLmROYW1lO1xyXG5cdFx0aWYgKGVsTmFtZSkge1xyXG5cdFx0XHRpZiAoIUFycmF5LmlzQXJyYXkoZWxOYW1lKSkgZWxOYW1lID0gW2VsTmFtZV07XHJcblx0XHRcdG5hbWUgKz0gdGhpcy5EZWxPcHRpb25zLmVsU2VwICsgZWxOYW1lLmpvaW4odGhpcy5EZWxPcHRpb25zLmVsU2VwKTtcclxuXHRcdH1cclxuXHRcdGlmIChtb2ROYW1lKSBuYW1lICs9IHRoaXMuRGVsT3B0aW9ucy5tb2RTZXAgKyBtb2ROYW1lO1xyXG5cdFx0cmV0dXJuIG5hbWU7XHJcblx0fSxcclxuXHJcblx0LyoqXHJcblx0ICogQWRkIHByb3BlcnR5ICRkTmFtZSB0byBlbCBjbGFzc2VzXHJcblx0ICovXHJcblx0c2V0TmFtZTogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLiRlbC5hZGRDbGFzcyh0aGlzLmROYW1lKTtcclxuXHR9LFxyXG5cclxuXHRtYWtlU2VsZWN0b3I6IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuICcuJyArIHRoaXMubWFrZU5hbWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHR9LFxyXG5cclxuXHQvKipcclxuXHQgKiBGaW5kIGNoaWxkIGVsZW1lbnQgYnkgYSBkTmFtZVxyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBkTmFtZSBkTmFtZVxyXG5cdCAqIEByZXR1cm4ge2pRdWVyeX0gRmluZGVkIGVsZW1lbnRcclxuXHQgKi9cclxuXHRmaW5kOiBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiB0aGlzLiRlbC5maW5kKHRoaXMubWFrZVNlbGVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xyXG5cdH0sXHJcblxyXG5cdC8qKlxyXG5cdCAqIEZpbmQgZWxlbWVudCBpbiBvdGhlciBlbFxyXG5cdCAqIEBwYXJhbSB7alF1ZXJ5fHN0cmluZ3xET01FbGVtZW50fSBlbCBlbCB0byBmaW5kIGluXHJcblx0ICogQHBhcmFtIHtzdHJpbmd8YXJyYXl9IGVsZW1lbnQgbmFtZVxyXG5cdCAqIEByZXR1cm4ge2pRdWVyeX1cclxuXHQgKi9cclxuXHRmaW5kSW46IGZ1bmN0aW9uKGVsKSB7XHJcblx0XHRyZXR1cm4gKGVsIGluc3RhbmNlb2YgJCA/IGVsIDogJChlbCkpLmZpbmQodGhpcy5tYWtlU2VsZWN0b3IuYXBwbHkodGhpcywgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKSk7XHJcblx0fSxcclxuXHJcblx0LyoqXHJcblx0ICogTWFrZSBmdWxsIGVsIG5hbWUgYnkgbW9kaWZpZXJcclxuXHQgKiBAcGFyYW0gIHtzdHJpbmd9IG5hbWUgICAgICAgbW9kaWZpZXIgbmFtZVxyXG5cdCAqIEBwYXJhbSAge2Jvb2x9IHRvU2VsZWN0b3IgICB0byBwcmVwZW5kIHNlbGVjdG9yIG1hcmsgb24gbm90XHJcblx0ICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgICAgIGZ1bGwgZWwgbmFtZS9zZWxlY3RvclxyXG5cdCAqL1xyXG5cdG1vZE5hbWU6IGZ1bmN0aW9uKG5hbWUsIHRvU2VsZWN0b3IpIHtcclxuXHRcdHZhciBzZWxlY3Rvck1hcmsgPSB0b1NlbGVjdG9yID8gJy4nIDogJyc7XHJcblx0XHRyZXR1cm4gc2VsZWN0b3JNYXJrICsgdGhpcy5tYWtlTmFtZSgnJywgbmFtZSk7XHJcblx0fSxcclxuXHJcblx0aGFzTW9kOiBmdW5jdGlvbihuYW1lKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kZWwuaGFzQ2xhc3ModGhpcy5tb2ROYW1lKG5hbWUpKTtcclxuXHR9LFxyXG5cclxuXHRhZGRNb2Q6IGZ1bmN0aW9uKG5hbWUpIHtcclxuXHRcdHJldHVybiB0aGlzLiRlbC5hZGRDbGFzcyh0aGlzLm1vZE5hbWUobmFtZSkpO1xyXG5cdH0sXHJcblxyXG5cdGZpbHRlckJ5TW9kOiBmdW5jdGlvbihuYW1lKSB7XHJcblx0XHRyZXR1cm4gdGhpcy4kZWwuZmlsdGVyKCcuJyArIHRoaXMubW9kTmFtZShuYW1lKSk7XHJcblx0fSxcclxuXHJcblx0cmVtb3ZlTW9kOiBmdW5jdGlvbihuYW1lKSB7XHJcblx0XHR0aGlzLiRlbC5yZW1vdmVDbGFzcyh0aGlzLm1vZE5hbWUobmFtZSkpO1xyXG5cdH0sXHJcblxyXG5cdHRvZ2dsZU1vZDogZnVuY3Rpb24obmFtZSwgc3RhdGUpIHtcclxuXHRcdHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG5cdFx0YXJnc1swXSA9IHRoaXMubW9kTmFtZShhcmdzWzBdKTtcclxuXHRcdCQuZm4udG9nZ2xlQ2xhc3MuYXBwbHkodGhpcy4kZWwsIGFyZ3MpO1xyXG5cdH0sXHJcblxyXG5cdGV2ZW50TmFtZTogZnVuY3Rpb24obmFtZSkge1xyXG5cdFx0cmV0dXJuIG5hbWUgKyAnLicgKyB0aGlzLm5hbWVzcGFjZTtcclxuXHR9LFxyXG5cclxuXHQvKipcclxuXHQgKiBqcXVlcnkgbGlrZSAnb24nLiBBdHRhY2ggZXZlbnQgdG8gdGhpcy4kZWwgb3Igd2l0aCBkZWxlZ2F0aW9uLlxyXG5cdCAqIFxyXG5cdCAqIEBleGFtcGxlXHJcblx0ICogb2JqLm9uKCdjbGljaycsICdlbE5hbWUnLCBoYW5kbGVyKVxyXG5cdCAqIG9iai5vbignY2xpY2snLCBoYW5kbGVyKVxyXG5cdCAqIFxyXG5cdCAqIEBwYXJhbSAge1t0eXBlXX0gbmFtZSBbZGVzY3JpcHRpb25dXHJcblx0ICogQHJldHVybiB7W3R5cGVdfSAgICAgIFtkZXNjcmlwdGlvbl1cclxuXHQgKi9cclxuXHRvbjogZnVuY3Rpb24obmFtZSkge1xyXG5cdFx0dmFyIGFyZ3MgPSBhcmd1bWVudHM7XHJcblx0XHRhcmdzWzBdID0gdGhpcy5ldmVudE5hbWUobmFtZSk7XHJcblx0XHQkLmZuLm9uLmFwcGx5KHRoaXMuJGVsLCBhcmdzKTtcclxuXHR9LFxyXG5cclxuXHQvKipcclxuXHQgKiBPcHBvc2l0ZSB0byAjb25cclxuXHQgKi9cclxuXHRvZmY6IGZ1bmN0aW9uKG5hbWUpIHtcclxuXHRcdHRoaXMuJGVsLm9mZih0aGlzLmV2ZW50TmFtZShuYW1lKSk7XHJcblx0fSxcclxuXHR0cmlnZ2VyOiBmdW5jdGlvbihuYW1lKSB7XHJcblx0XHR0aGlzLiRlbC50cmlnZ2VyKHRoaXMuZXZlbnROYW1lKG5hbWUpKTtcclxuXHR9LFxyXG5cclxuXHRjcmVhdGVFbDogZnVuY3Rpb24obmFtZSwgdGFnTmFtZSkge1xyXG5cdFx0cmV0dXJuICQoJzwnICsgKHRhZ05hbWUgfHwgJ2RpdicpICsgJyAvPicsIHtcclxuXHRcdFx0J2NsYXNzJzogdGhpcy5tYWtlTmFtZShuYW1lKVxyXG5cdFx0fSk7XHJcblx0fVxyXG59OyIsIid1c2Ugc3RyaWN0JztcclxudmFyIERlbCA9IHJlcXVpcmUoJ3lhLWRlbCcpO1xyXG5yZXF1aXJlKCcuL3RhYmJhYmxlLXNlbGVjdG9yJyk7XHJcblxyXG5mdW5jdGlvbiBBcHAgKCkge1xyXG5cdHRoaXMuJHNhdmVkRm9jdXMgPSB1bmRlZmluZWQ7XHJcblxyXG5cdHRoaXMubGFzdEZvY3VzZWQgPSB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbkFwcC5fbmFtZSA9ICd5YXBvcHVwJztcclxuQXBwLmRlZmF1bHRzID0ge1xyXG5cdC8vIElmIGFwcGVuZCB0byBib2R5XHJcblx0Ym9keUFwcGVuZDogdHJ1ZSxcclxuXHJcblx0Ly8gQ2xvc2UgYnV0dG9uIGh0bWxcclxuXHRjbG9zZTogJzxidXR0b24+eDwvYnV0dG9uPicsXHJcblxyXG5cdGROYW1lOiAnYi1wb3B1cCdcclxufTtcclxuXHJcbkFwcC5LRVlfQ09ERVMgPSB7XHJcblx0RVNDOiAyNyxcclxuXHRUQUI6IDksXHJcblx0U0hJRlQ6IDY1XHJcbn07XHJcblxyXG5BcHAubWFrZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuXHR2YXIgaW5zdCA9IG5ldyB0aGlzO1xyXG5cdGluc3Qub3B0aW9ucyA9IG9wdGlvbnM7XHJcblx0cmV0dXJuIGluc3Q7XHJcbn07XHJcblxyXG5BcHAuaW5pdCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuXHR2YXIgaW5zdCA9IHRoaXMubWFrZShvcHRpb25zKTtcclxuXHRpZiAoaW5zdCkgaW5zdC5pbml0KCk7XHJcblx0cmV0dXJuIGluc3Q7XHJcbn07XHJcblxyXG5BcHAucHJvdG90eXBlID0gJC5leHRlbmQoe30sIERlbCwge1xyXG5cdGNvbnN0cnVjdG9yOiBBcHAsXHJcblx0aW5pdDogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLnNldE9wdGlvbnMoKTtcclxuXHRcdHRoaXMuc2V0RWwoKTtcclxuXHRcdHRoaXMubmFtZSA9IHRoaXMuY29uc3RydWN0b3IuX25hbWU7XHJcblx0XHR0aGlzLmRlZmluZUlkKCk7XHJcblx0XHR0aGlzLmluaXREZWwoe2ROYW1lOiB0aGlzLm9wdGlvbnMuZE5hbWV9KTtcclxuXHRcdHRoaXMuZGVmaW5lRWxzKCk7XHJcblx0XHR0aGlzLmRlZmluZUV2ZW50cygpO1xyXG5cdFx0dGhpcy5zZXRBcmlhKCk7XHJcblx0fSxcclxuXHJcblx0c2V0T3B0aW9uczogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5jb25zdHJ1Y3Rvci5kZWZhdWx0cywgdGhpcy5vcHRpb25zKTtcclxuXHR9LFxyXG5cclxuXHRzZXRFbDogZnVuY3Rpb24oKSB7XHJcblx0XHRpZiAoIXRoaXMub3B0aW9ucy4kZWwgfHwgdGhpcy5vcHRpb25zLiRlbC5sZW5ndGggIT09IDEpXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignJGVsIG9wdGlvbnMgbXVzdCBiZSBkZWZpbmVkIGFuZCBleGlzdCBpbiBET00nKTtcclxuXHRcdHRoaXMuJGVsID0gdGhpcy5vcHRpb25zLiRlbDtcclxuXHR9LFxyXG5cclxuXHRkZWZpbmVJZDogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLmlkID0gdGhpcy4kZWwuYXR0cignaWQnKTtcclxuXHRcdGlmICghdGhpcy5pZCkgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBpcyBubyBpZCBpbiBwb3B1cCBlbCcpO1xyXG5cdH0sXHJcblxyXG5cdGRlZmluZUVsczogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLiRjb250ZW50ID0gdGhpcy5maW5kKCdjb250ZW50Jyk7XHJcblx0XHR0aGlzLmRlZmluZVRyaWdnZXIoKTtcclxuXHRcdHRoaXMuZGVmaW5lQ2xvc2UoKTtcclxuXHR9LFxyXG5cclxuXHRkZWZpbmVUcmlnZ2VyOiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuJHRyaWdnZXIgPSAkKCdbZGF0YS15YXBvcHVwLXRhcmdldD0nICsgdGhpcy5pZCArICddJyk7XHJcblx0fSxcclxuXHJcblx0ZGVmaW5lQ2xvc2U6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy4kY2xvc2UgPSB0aGlzLmZpbmQoJ2Nsb3NlJyk7XHJcblx0XHRpZiAoIXRoaXMuJGNsb3NlLmxlbmd0aCkge1xyXG5cdFx0XHR0aGlzLiRjbG9zZSA9ICQodGhpcy5vcHRpb25zLmNsb3NlKVxyXG5cdFx0XHRcdC5hZGRDbGFzcyh0aGlzLm1ha2VOYW1lKCdjbG9zZScpKVxyXG5cdFx0XHRcdC5hcHBlbmRUbyh0aGlzLiRjb250ZW50KTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRkZWZpbmVFdmVudHM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0dGhpcy4kZWwub24oJ2tleXVwLicgKyB0aGlzLm5hbWUsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0c2VsZi5jaGVja0VzYyhlKTtcclxuXHRcdH0pO1xyXG5cdFx0dGhpcy4kdHJpZ2dlci5vbignY2xpY2suJyArIHRoaXMubmFtZSwgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdHNlbGYub3BlbigpO1xyXG5cdFx0fSk7XHJcblx0XHR0aGlzLiRjbG9zZS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0c2VsZi5jbG9zZSgpO1xyXG5cdFx0fSk7XHJcblx0XHR0aGlzLiRlbC5vbignZm9jdXNvdXQnLCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHNlbGYub25Gb2N1c091dChlKTtcclxuXHRcdH0pO1xyXG5cdFx0dGhpcy4kZWwub24oJ2ZvY3VzaW4nLCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHNlbGYub25Gb2N1c0luKGUpO1xyXG5cdFx0fSk7XHJcblx0fSxcclxuXHJcblx0c2V0QXJpYTogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLiRlbC5hdHRyKCdyb2xlJywgJ2RpYWxvZycpO1xyXG5cdH0sXHJcblxyXG5cdG9wZW46IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5zYXZlRm9jdXMoKTtcclxuXHRcdHRoaXMuc2hvdygpO1xyXG5cdFx0dGhpcy5hcmlhU2hvdygpO1xyXG5cdFx0dGhpcy5mb2N1c0luKCk7XHJcblx0fSxcclxuXHJcblx0Y2xvc2U6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5oaWRlKCk7XHJcblx0XHR0aGlzLnJlc3RvcmVmb2N1cygpO1xyXG5cdFx0dGhpcy5hcmlhSGlkZSgpO1xyXG5cdH0sXHJcblxyXG5cdGFyaWFTaG93OiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuJGVsLmF0dHIoJ2FyaWEtaGlkZGVuJywgZmFsc2UpO1xyXG5cdH0sXHJcblxyXG5cdGFyaWFIaWRlOiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuJGVsLmF0dHIoJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7XHJcblx0fSxcclxuXHJcblx0c2hvdzogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLmFkZE1vZCgnc2hvdycpO1xyXG5cdH0sXHJcblxyXG5cdGhpZGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5yZW1vdmVNb2QoJ3Nob3cnKTtcclxuXHR9LFxyXG5cclxuXHRmb2N1c0luOiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuJGVsLmZpbmQoJzp0YWJiYWJsZScpLmZpcnN0KCkuZm9jdXMoKTtcclxuXHR9LFxyXG5cclxuXHRzYXZlRm9jdXM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy4kc2F2ZWRGb2N1cyA9ICQoJzpmb2N1cycpO1xyXG5cdH0sXHJcblxyXG5cdHJlc3RvcmVmb2N1czogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLiRzYXZlZEZvY3VzLmZvY3VzKCk7XHJcblx0fSxcclxuXHJcblx0Y2hlY2tFc2M6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdGlmIChlLmtleUNvZGUgPT0gdGhpcy5jb25zdHJ1Y3Rvci5LRVlfQ09ERVMuRVNDKVxyXG5cdFx0XHR0aGlzLmNsb3NlKCk7XHJcblx0fSxcclxuXHJcblx0b25Gb2N1c0luOiBmdW5jdGlvbihlKSB7XHJcblx0XHR0aGlzLmxhc3RGb2N1c2VkID0gZS50YXJnZXQ7XHJcblx0fSxcclxuXHJcblx0b25Gb2N1c091dDogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgJHRhYmJhYmxlID0gdGhpcy4kZWwuZmluZCgnOnRhYmJhYmxlJyk7XHJcblx0XHRpZiAodGhpcy5sYXN0Rm9jdXNlZCkge1xyXG5cdFx0XHR2YXIgJGxhc3RUYWJiYWJsZSA9ICR0YWJiYWJsZS5sYXN0KCk7XHJcblx0XHRcdGlmICgkbGFzdFRhYmJhYmxlWzBdID09PSB0aGlzLmxhc3RGb2N1c2VkKSB7XHJcblx0XHRcdFx0JHRhYmJhYmxlLmZpcnN0KCkuZm9jdXMoKTtcclxuXHRcdFx0fSBlbHNlICRsYXN0VGFiYmFibGUuZm9jdXMoKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdCR0YWJiYWJsZS5sYXN0KCkuZm9jdXMoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBBcHA7IiwidmFyIFlhcG9wdXAgPSByZXF1aXJlKCcuL2FwcCcpO1xyXG5cclxuKGZ1bmN0aW9uKCQpIHtcclxuXHRpZiAoJC5ZYXBvcHVwIHx8ICQuZm4ueWFwb3B1cCkge1xyXG5cdFx0Y29uc29sZS53YXJuKCdZYXBvcHVwIG9yIGFub3RoZXIgcGx1Z2luIHdpdGggc2ltaWxhciBuYW1lIGhhcyBiZWVuIGFscmVhZHkgc2V0dGVkJyk7XHJcblx0fVxyXG5cdCQuWWFwb3B1cCA9IFlhcG9wdXA7XHJcblx0JC5mbi55YXBvcHVwID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihpbmRleCkge1xyXG5cdFx0XHRvcHRpb25zID0gJC5leHRlbmQoe30sIG9wdGlvbnMpO1xyXG5cdFx0XHRvcHRpb25zLmluZGV4ID0gaW5kZXg7XHJcblx0XHRcdG9wdGlvbnMuJGVsID0gJCh0aGlzKTtcclxuXHRcdFx0JC5ZYXBvcHVwLmluaXQob3B0aW9ucyk7XHJcblx0XHR9KTtcclxuXHR9O1xyXG59KShqUXVlcnkpO1xyXG5cclxud2luZG93LmwgPSBmdW5jdGlvbih4KSB7XHJcblx0Y29uc29sZS5sb2coeCk7XHJcbn07IiwiJC5leHRlbmQoJC5leHByWyAnOicgXSwge1xyXG5cdGZvY3VzYWJsZTogZnVuY3Rpb24oZWxlbWVudCl7XHJcblx0XHRyZXR1cm4gZm9jdXNhYmxlKGVsZW1lbnQsICFpc05hTigkLmF0dHIoZWxlbWVudCwgJ3RhYmluZGV4JykpKTtcclxuXHR9LFxyXG5cclxuXHR0YWJiYWJsZTogZnVuY3Rpb24oZWxlbWVudCl7XHJcblx0XHR2YXIgdGFiSW5kZXggPSAkLmF0dHIoZWxlbWVudCwgJ3RhYmluZGV4JyksXHJcblx0XHRcdGlzVGFiSW5kZXhOYU4gPSBpc05hTih0YWJJbmRleCk7XHJcblx0XHRyZXR1cm4gKCBpc1RhYkluZGV4TmFOIHx8IHRhYkluZGV4ID49IDAgKSAmJiBmb2N1c2FibGUoZWxlbWVudCwgIWlzVGFiSW5kZXhOYU4pO1xyXG5cdH1cclxufSk7XHJcblxyXG4vKipcclxuICogZm9jdXNzYWJsZSBmdW5jdGlvbiwgdGFrZW4gZnJvbSBqUXVlcnkgVUkgQ29yZVxyXG4gKiBAcGFyYW0gZWxlbWVudFxyXG4gKiBAcmV0dXJucyB7Kn1cclxuICovXHJcbmZ1bmN0aW9uIGZvY3VzYWJsZShlbGVtZW50KXtcclxuXHR2YXIgbWFwLCBtYXBOYW1lLCBpbWcsXHJcblx0XHRub2RlTmFtZSA9IGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcclxuXHRcdGlzVGFiSW5kZXhOb3ROYU4gPSAhaXNOYU4oJC5hdHRyKGVsZW1lbnQsICd0YWJpbmRleCcpKTtcclxuXHRpZignYXJlYScgPT09IG5vZGVOYW1lKXtcclxuXHRcdG1hcCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcclxuXHRcdG1hcE5hbWUgPSBtYXAubmFtZTtcclxuXHRcdGlmKCFlbGVtZW50LmhyZWYgfHwgIW1hcE5hbWUgfHwgbWFwLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdtYXAnKXtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdFx0aW1nID0gJCgnaW1nW3VzZW1hcD0jJyArIG1hcE5hbWUgKyAnXScpWzBdO1xyXG5cdFx0cmV0dXJuICEhaW1nICYmIHZpc2libGUoaW1nKTtcclxuXHR9XHJcblx0cmV0dXJuICggL14oaW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QpJC8udGVzdChub2RlTmFtZSkgP1xyXG5cdFx0IWVsZW1lbnQuZGlzYWJsZWQgOlxyXG5cdFx0J2EnID09PSBub2RlTmFtZSA/XHJcblx0XHRcdGVsZW1lbnQuaHJlZiB8fCBpc1RhYkluZGV4Tm90TmFOIDpcclxuXHRcdFx0aXNUYWJJbmRleE5vdE5hTikgJiZcclxuXHRcdC8vIHRoZSBlbGVtZW50IGFuZCBhbGwgb2YgaXRzIGFuY2VzdG9ycyBtdXN0IGJlIHZpc2libGVcclxuXHRcdHZpc2libGUoZWxlbWVudCk7XHJcblxyXG5cdGZ1bmN0aW9uIHZpc2libGUoZWxlbWVudCl7XHJcblx0XHRyZXR1cm4gJC5leHByLmZpbHRlcnMudmlzaWJsZShlbGVtZW50KSAmJiAhJChlbGVtZW50KS5wYXJlbnRzKCkuYWRkQmFjaygpLmZpbHRlcihmdW5jdGlvbigpe1xyXG5cdFx0XHRyZXR1cm4gJC5jc3ModGhpcywgJ3Zpc2liaWxpdHknKSA9PT0gJ2hpZGRlbic7XHJcblx0XHR9KS5sZW5ndGg7XHJcblx0fVxyXG59Il19
